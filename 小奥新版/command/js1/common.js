function getBrowserInfo(){var e=navigator.userAgent.toLowerCase();var c=/chrome\/[\d.]+/gi;if(e.indexOf("chrome")>0){}else{var d=document.body;var b=document.createElement("div");b.className="browserBg";d.appendChild(b);var a=document.createElement("div");a.className="browserWrap";a.innerHTML="<h1>对不起，您的浏览器版本太低了</h1><h1>请您更换成谷歌浏览器访问</h1><div class='chromePng'><img src='img/chrome.png'/></div>";d.appendChild(a)}}var JQ=jQuery.noConflict();var index_user=document.getElementById("index_user");function loadLogin(){hasBg();hasLogin()}function loadRegister(){hasBg();hasRegister()}function userHide(){JQ("#user_bg").hide();JQ("#login").hide();JQ("#register").hide()}function hasBg(){var a=document.getElementById("user_bg");if(a==null){var b=document.createElement("div");b.setAttribute("id","user_bg");b.setAttribute("onclick","userHide()");JQ("#index_user").append(b)}else{JQ("#user_bg").show()}}function hasLogin(){var a=document.getElementById("login");if(a==null){JQ.ajax({url:"login.html",global:false,type:"GET",dataType:"html",async:false,success:function(b){JQ("#index_user").append(b)}})}else{JQ("#login").show()}}function hasRegister(){var a=document.getElementById("register");if(a==null){JQ.ajax({url:"register.html",global:false,type:"GET",dataType:"html",async:false,success:function(b){JQ("#index_user").append(b)}})}else{JQ("#register").show()}}JQ(function(){function a(b){var c=JQ("#toolbox");var k=c.find("category");var f={},e={},d={};for(var h=0;h<k.length;h++){var o=k[h].getAttribute("name");var m=k[h].getAttribute("icon");if(o&&o!=null&&m){f[h]=o}}var l=JQ(b).find(".blocklyTreeRow");for(var g=0;g<l.length;g++){var n=l[g].children[2].innerHTML;if(n&&n!=null&&n.length>0){e[g]=n}else{l[g].style.display="none"}}}setTimeout(function(){var b=JQ(".blocklyToolboxDiv")[0];a(b);JQ(".blocklyTreeRow").each(function(c){JQ(".blocklyTreeRow:eq("+c+")").click(function(){var e=this;var d=JQ(e).parent().children()[1];a(d)})})},1);JQ(".versionNum").click(function(){var b=document.getElementById("version");if(b==null){var c='<div id="version"><div class="versionTitle"><h1>版本更新说明</h1><div class="versionClose" onclick="hideVersion()"></div></div><div class="versionCon"><p class="vTitle">2.1.0</p><p>整体风格重构</p><p>增加“小奥版”和“小车版”指令版本</p><p>执行按钮位置规划</p><p class="vTitle">2.0.0</p><p>指令编程第二版上线了</p><p>增加版本更新说明</p><p>增加帮助说明</p><p class="vTitle">1.1.0版 ：</p><p>增加各分类的功能块</p><p class="vTitle">1.0.0版 ：</p><p>指令编程上线了</p></div></div><div id="versionBg" style="display: block;" onclick="hideVersion()"></div>';JQ("body").append(c);JQ("#version").css({opacity:"1"});setTimeout(function(){JQ("#version").css("transform"," scale(1)")},10)}else{JQ("#version").removeAttr("style");JQ("#version").css({opacity:"1",transform:" scale(1)"});JQ("#versionBg").show()}})});function hideVersion(){JQ("#versionBg").hide();JQ("#version").css({opacity:"0"});setTimeout(function(){JQ("#version").removeAttr("style");JQ("#version").css({"z-index":"-1000"})},300)}function sideShowHide(a){for(i in a){var b=a[i];var c=document.getElementById(b.id);if(b.display!=null||b.display!=undefined||b.display){c.style.display=b.display}if(b.color!=null||b.color!=undefined||b.color){c.style.color=b.color}if(b.background!=null||b.background!=undefined||b.background){c.style.background=b.background}if(b.width!=null||b.width!=undefined||b.width){c.style.width=b.width}if(b.right!=null||b.right!=undefined||b.right){c.style.right=b.right}}}var sideHelpDisplay=false;var sideSetDisplay=false;function sideHelpClick(){if(sideHelpDisplay){sideShowHide([{id:"helpTab",right:"0",color:"#eee",background:"rgba(36, 36, 36,0.4)"},{id:"helpList",width:"0",display:"none"},{id:"mid_td",display:"none"},{id:"setTab",right:"0",color:"#eee",background:"rgba(36, 36, 36,0.4)"}]);sideHelpDisplay=false;sideSetDisplay=false}else{sideShowHide([{id:"helpTab",right:"25%",color:"#fff",background:"#242424"},{id:"helpList",width:"25%",display:""},{id:"mid_td",display:""},{id:"setTab",right:"25%",color:"#eee",background:"rgba(36, 36, 36,0.4)"}]);sideHelpDisplay=true;sideSetDisplay=false}Code.helpInit()}function sideSetClick(){if(sideSetDisplay){sideShowHide([{id:"helpTab",right:"0",color:"#eee",background:"rgba(36, 36, 36,0.4)"},{id:"helpList",width:"0",display:"none"},{id:"mid_td",display:"none"},{id:"deviceBg",display:"none"},{id:"deviceContent",display:"none"},{id:"setTab",right:"0",color:"#eee",background:"rgba(36, 36, 36,0.4)"}]);sideSetDisplay=false;sideHelpDisplay=false}else{sideShowHide([{id:"helpTab",right:"0",color:"#eee",background:"rgba(36, 36, 36,0.4)"},{id:"helpList",width:"0",display:"none"},{id:"mid_td",display:"none"},{id:"deviceBg",display:"block"},{id:"deviceContent",display:"block"},{id:"setTab",right:"0",color:"#fff",background:"rgb(255, 114, 91)"}]);sideSetDisplay=true;sideHelpDisplay=false;var b=document.getElementById("runTips");var a=b.getElementsByTagName("h1")[0];b.style.display="none";a.style.display="none";JQ("#tipYes").hide();JQ("#deviceYes").show()}Code.helpInit()}function ShowDevice(){$("#deviceBg").show();$("#deviceContent").show();console.log("show device")}function HideDevice(){$("#deviceBg").hide();$("#deviceContent").hide();sideShowHide([{id:"helpTab",right:"0",color:"#eee",background:"rgba(86, 93, 115,0.6)"},{id:"helpList",width:"0",display:"none"},{id:"mid_td",display:"none"},{id:"deviceBg",display:"none"},{id:"deviceContent",display:"none"},{id:"setTab",right:"0",color:"#eee",background:"rgba(86, 93, 115,0.6)"}]);sideSetDisplay=false;var a=document.getElementById("equipment");a.selectedIndex=sIndex}var helpTab=document.getElementById("helpTab");QA();function QA(){var b=document.documentElement.clientHeight||document.body.clientHeight;var a=b-187-15;var c=document.getElementsByClassName("QAwrap")[0];c.style.height=a+"px"};